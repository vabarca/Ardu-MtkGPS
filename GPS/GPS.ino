/////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////
/*
  
  by Vicente Abarca
*/

/////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////

#include <stdlib.h>                     //we need that to use dtostrf() and convert float to string

//---------------

#if defined(ARDUINO) && ARDUINO >= 100
  #include "Arduino.h"
#else
  #include "WProgram.h"
#endif

#include "def.h"
#include "Serial.h"
#include "GPS.h"

/////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////

void setup() 
{
  LEDPIN_PINMODE
  LEDPIN_ON

  TX_CTRLPIN_MODE
  TX_2_GPS_DISABLE

  SerialOpen(DATA_BAUD);
  //SerialPrintPROGMEM(PSTR("Initializing GPS...\r\n"));

  //TX_2_GPS_ENABLE
  //iniGPS();
  //TX_2_GPS_DISABLE
  
  //SerialPrintPROGMEM(PSTR("Doit!\r\n"));

  LEDPIN_OFF
}

/////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////

void loop() 
{
  if(SerialAvailable())
  {
    uint8_t c = SerialRead();
    SerialWrite(c);
  }
}

/////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////